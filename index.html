<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aksh Kalyani | Creative Technologist</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Libraries (Three.js, GSAP, Lenis) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <style>
      /* --- VARS & RESET --- */
      :root {
        --bg: #050505;
        --text-main: #f0f0f0;
        --text-muted: #8892b0;
        --accent: #64ffda;
        --accent-glow: rgba(100, 255, 218, 0.15);
        --glass: rgba(255, 255, 255, 0.02);
        --glass-border: rgba(255, 255, 255, 0.08);
        --font-main: "Inter", sans-serif;
        --font-mono: "JetBrains Mono", monospace;
        --cursor-size: 20px;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        cursor: none; /* Hide default cursor */
      }

      body {
        background: var(--bg);
        color: var(--text-main);
        font-family: var(--font-main);
        overflow-x: hidden;
      }

      html.lenis {
        height: auto;
      }
      .lenis.lenis-smooth {
        scroll-behavior: auto;
      }
      .lenis.lenis-smooth [data-lenis-prevent] {
        overscroll-behavior: contain;
      }
      .lenis.lenis-stopped {
        overflow: hidden;
      }

      /* --- CUSTOM CURSOR --- */
      #cursor {
        position: fixed;
        top: 0;
        left: 0;
        width: var(--cursor-size);
        height: var(--cursor-size);
        border: 1px solid var(--accent);
        border-radius: 50%;
        pointer-events: none;
        z-index: 9999;
        transform: translate(-50%, -50%);
        transition: width 0.3s, height 0.3s, background-color 0.3s;
        mix-blend-mode: difference;
      }
      #cursor.hovered {
        width: 60px;
        height: 60px;
        background-color: var(--accent);
        opacity: 0.3;
        border: none;
      }

      /* --- BACKGROUND --- */
      #canvas-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        z-index: -1;
        opacity: 0.6;
      }

      /* --- NAVIGATION --- */
      nav {
        position: fixed;
        top: 0;
        width: 100%;
        padding: 2.5rem 4rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 100;
        transition: transform 0.3s ease;
        background: linear-gradient(
          to bottom,
          rgba(5, 5, 5, 0.95),
          transparent
        );
      }
      nav.hidden {
        transform: translateY(-100%);
      }

      .logo {
        font-family: var(--font-mono);
        font-weight: 700;
        color: var(--accent);
        font-size: 1.5rem;
        padding: 10px; /* Larger hit area */
      }

      .nav-links {
        display: flex;
        gap: 3rem;
      }
      .nav-link {
        color: var(--text-main);
        text-decoration: none;
        font-family: var(--font-mono);
        font-size: 0.9rem;
        padding: 10px; /* Larger hit area for magnet */
        position: relative;
      }
      .nav-link::before {
        content: "";
        position: absolute;
        width: 0;
        height: 1px;
        bottom: 5px;
        left: 10px;
        background-color: var(--accent);
        transition: width 0.3s ease;
      }
      .nav-link:hover {
        color: var(--accent);
      }
      .nav-link:hover::before {
        width: calc(100% - 20px);
      }

      /* --- BUTTONS (UPDATED TO MATCH IMAGE) --- */
      .btn {
        display: inline-block;
        padding: 1.2rem 2.8rem; /* Wide padding */
        background: var(--accent); /* SOLID BACKGROUND */
        color: #0a0a0a; /* DARK TEXT */
        font-family: var(--font-mono);
        font-size: 1rem;
        font-weight: 700; /* BOLD */
        text-decoration: none;
        border-radius: 4px;
        transition: all 0.25s ease;
        margin-top: 2rem;
        border: none;
      }
      .btn:hover {
        opacity: 0.9;
        transform: translateY(-3px);
        box-shadow: 0 0 30px rgba(100, 255, 218, 0.3);
      }
      /* Specific style for Resume button to keep it outline if desired, 
           or remove this specific override to make it solid too. 
           Keeping resume outline for hierarchy, Hero button solid. */
      .nav-links .btn {
        background: transparent;
        color: var(--accent);
        border: 1px solid var(--accent);
        padding: 0.8rem 1.5rem;
        font-weight: 400;
        margin-top: 0;
      }
      .nav-links .btn:hover {
        background: rgba(100, 255, 218, 0.1);
        box-shadow: none;
      }

      /* --- SECTIONS LAYOUT --- */
      main {
        padding: 0 10vw;
        width: 100%;
        max-width: 1800px;
        margin: 0 auto;
      }
      section {
        min-height: 90vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 10rem 0;
      }

      .section-header {
        display: flex;
        align-items: center;
        margin-bottom: 5rem;
        width: 100%;
      }
      .section-header h2 {
        font-size: clamp(2.5rem, 5vw, 3.5rem);
        color: var(--text-main);
        margin-right: 1.5rem;
        white-space: nowrap;
        font-weight: 800;
      }
      .section-header .line {
        height: 1px;
        background: #333;
        width: 100%;
        max-width: 400px;
        display: block;
      }
      .section-header span {
        font-family: var(--font-mono);
        color: var(--accent);
        font-size: 1.5rem;
        margin-right: 1rem;
      }

      /* --- HERO (UPDATED TYPOGRAPHY) --- */
      .hero h1 {
        font-family: var(--font-main);
        font-size: clamp(4.5rem, 10vw, 8.5rem);
        font-weight: 800;
        line-height: 1.1;
        color: var(--text-muted);
        margin-bottom: 2rem;
        letter-spacing: -0.03em; /* Tight spacing like reference */
      }
      .hero h1 b {
        color: var(--text-main);
      }
      .hero p {
        max-width: 700px;
        margin: 2rem 0 4rem 0;
        color: var(--text-muted);
        font-size: 1.35rem;
        line-height: 1.6;
      }
      .mono-highlight {
        color: var(--accent);
        font-family: var(--font-mono);
        font-size: 1.2rem;
        margin-bottom: 2rem;
        display: block;
      }

      /* --- TIMELINE (EXPERIENCE) --- */
      .timeline {
        border-left: 2px solid #222;
        padding-left: 2rem;
        margin-left: 1rem;
      }
      .timeline-item {
        margin-bottom: 4rem;
        position: relative;
      }
      .timeline-item::before {
        content: "";
        position: absolute;
        left: -2.6rem;
        top: 5px;
        width: 12px;
        height: 12px;
        background: var(--bg);
        border: 2px solid var(--accent);
        border-radius: 50%;
        transition: background 0.3s;
      }
      .timeline-item:hover::before {
        background: var(--accent);
      }

      .timeline-date {
        font-family: var(--font-mono);
        color: var(--accent);
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
        display: block;
      }
      .timeline-title {
        font-size: 1.5rem;
        color: var(--text-main);
        margin-bottom: 0.5rem;
        font-weight: 600;
      }
      .timeline-company {
        color: var(--text-muted);
        font-family: var(--font-mono);
        font-size: 1rem;
        margin-bottom: 1rem;
      }
      .timeline-desc {
        color: var(--text-muted);
        line-height: 1.7;
        max-width: 750px;
      }

      .timeline-desc ul {
        margin-top: 0.8rem;
        padding-left: 1.2rem;
      }
      .timeline-desc li {
        margin-bottom: 0.4rem;
        font-size: 0.95rem;
        color: var(--text-muted);
        list-style-type: none;
        position: relative;
      }
      .timeline-desc li::before {
        content: "▹";
        color: var(--accent);
        position: absolute;
        left: -1.2rem;
        top: 0px;
        font-size: 0.8rem;
      }
      .timeline-desc strong {
        color: var(--text-main);
        font-weight: 600;
      }
      .timeline-desc h4 {
        margin-top: 1.2rem;
        margin-bottom: 0.5rem;
        font-size: 1rem;
        color: var(--text-main);
        font-family: var(--font-mono);
      }

      /* --- WORK GRID --- */
      .work-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
        gap: 2.5rem;
      }
      .project-card {
        background: var(--glass);
        border: 1px solid var(--glass-border);
        padding: 2.5rem;
        border-radius: 12px;
        transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
          border-color 0.3s;
        position: relative;
        top: 0;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }
      .project-card:hover {
        transform: translateY(-10px);
        border-color: var(--accent);
        background: rgba(255, 255, 255, 0.04);
      }
      .folder-icon {
        width: 45px;
        height: 45px;
        stroke: var(--accent);
        margin-bottom: 2rem;
      }
      .project-card h3 {
        font-size: 1.6rem;
        margin-bottom: 1rem;
        color: var(--text-main);
        transition: color 0.3s;
      }
      .project-card:hover h3 {
        color: var(--accent);
      }
      .project-card p {
        font-size: 1rem;
        color: var(--text-muted);
        line-height: 1.6;
        margin-bottom: 2rem;
      }
      .tech-stack {
        display: flex;
        gap: 1.2rem;
        flex-wrap: wrap;
        font-family: var(--font-mono);
        font-size: 0.8rem;
        color: var(--text-muted);
      }

      /* --- CONTACT --- */
      .contact {
        text-align: center;
        align-items: center;
        padding-bottom: 10rem;
      }
      .contact h2 {
        font-size: 4rem;
        margin-bottom: 1.5rem;
        font-weight: 800;
      }
      .contact p {
        max-width: 600px;
        margin: 0 auto 3rem auto;
        color: var(--text-muted);
        line-height: 1.6;
        font-size: 1.2rem;
      }

      /* --- FOOTER --- */
      footer {
        text-align: center;
        padding: 3rem;
        font-family: var(--font-mono);
        font-size: 0.9rem;
        color: var(--text-muted);
        border-top: 1px solid #111;
      }

      @media (max-width: 768px) {
        nav {
          padding: 1.5rem;
        }
        .nav-links {
          display: none;
        }
        main {
          padding: 0 1.5rem;
        }
        .hero h1 {
          font-size: 3.5rem;
        }
        .work-grid {
          grid-template-columns: 1fr;
        }
      }

      .about-text p {
        font-size: 1.2rem;
        line-height: 1.8;
        margin-bottom: 2rem;
      }

      /* --- HERO TYPOGRAPHY FIX (Match screenshot style) --- */
      #hero {
        max-width: 80vw; /* Fits within 80% of screen */
        width: 70%;
      }

      #hero .mono-highlight {
        font-size: 1.3rem;
        color: var(--accent);
        font-family: var(--font-mono);
        margin-bottom: 2rem;
      }

      #hero h1 {
        font-size: clamp(3rem, 6vw, 5.5rem);
        font-weight: 800;
        letter-spacing: -0.03em;
        line-height: 1.1;
        margin: 0;
        color: var(--text-muted);
      }

      /* First line (name) should be white */
      #hero h1 b {
        color: var(--text-main);
      }

      /* Second line should be grey */
      #hero h1:nth-of-type(1) + br + span,
      #hero h1 + h1 {
        color: var(--text-muted);
      }

      /* Paragraph styling to match screenshot */
      #hero p {
        font-size: 1.3rem;
        line-height: 1.6;
        max-width: 700px;
        margin-top: 2rem;
        margin-bottom: 3rem;
        color: var(--text-muted);
      }
    </style>
  </head>
  <body>
    <!-- IMMERSIVE ELEMENTS -->
    <div id="cursor"></div>
    <div id="canvas-container"></div>

    <!-- NAVIGATION -->
    <nav id="navbar">
      <a href="#hero" class="logo hover-target" data-magnetic="0.3">AKSH.DEV</a>
      <div class="nav-links">
        <a href="#about" class="nav-link hover-target" data-magnetic="0.2"
          >About</a
        >
        <a href="#experience" class="nav-link hover-target" data-magnetic="0.2"
          >Experience</a
        >
        <a href="#projects" class="nav-link hover-target" data-magnetic="0.2"
          >Work</a
        >
        <a href="#contact" class="nav-link hover-target" data-magnetic="0.2"
          >Contact</a
        >
        <a href="/resume.pdf" class="btn hover-target" data-magnetic="0.4"
          >Resume</a
        >
      </div>
    </nav>

    <!-- CONTENT -->
    <main>
      <!-- HERO SECTION -->
      <section id="hero">
        <span class="mono-highlight fade-in">Hi, my name is</span>
        <h1 class="fade-in">
          <b>Aksh Kalyani.</b><br />
          I build things for the web.
        </h1>
        <p class="fade-in">
          I'm a software engineer specializing in immersive frontend
          architecture. I blend robust engineering with
          <span style="color: var(--accent)">Three.js</span> visuals to create
          web experiences that feel alive.
        </p>
        <div class="fade-in">
          <a href="#projects" class="btn hover-target" data-magnetic="0.5"
            >Check out my work</a
          >
        </div>
      </section>

      <!-- ABOUT SECTION -->
      <section id="about">
        <div class="section-header reveal-text">
          <span>01.</span>
          <h2>About Me</h2>
          <span class="line"></span>
        </div>
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 6rem">
          <div class="about-text reveal-text">
            <p style="color: var(--text-muted)">
              Hello! My name is Aksh and I enjoy creating things that live on
              the internet. My interest in web development started back in 2018
              when I decided to try editing custom Tumblr themes — turns out
              hacking together HTML & CSS is awesome.
            </p>
            <p style="color: var(--text-muted)">
              Fast-forward to today, and I've had the privilege of working at an
              <span style="color: var(--accent)">advertising agency</span>, a
              <span style="color: var(--accent)">start-up</span>, and a
              <span style="color: var(--accent)">huge corporation</span>. My
              main focus these days is building accessible, inclusive products
              and digital experiences for a variety of clients.
            </p>
            <p
              style="
                color: var(--text-muted);
                font-family: var(--font-mono);
                font-size: 1.1rem;
                margin-bottom: 1.5rem;
              "
            >
              Here are a few technologies I've been working with recently:
            </p>
            <ul
              style="
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 1rem;
                font-family: var(--font-mono);
                font-size: 1rem;
                color: var(--text-muted);
              "
            >
              <li>▹ JavaScript (ES6+)</li>
              <li>▹ React / Next.js</li>
              <li>▹ Node.js</li>
              <li>▹ TypeScript</li>
              <li>▹ Three.js / R3F</li>
              <li>▹ PostgreSQL</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- EXPERIENCE SECTION (NEW) -->
      <section id="experience">
        <div class="section-header reveal-text">
          <span>02.</span>
          <h2>Where I've Worked</h2>
          <span class="line"></span>
        </div>

        <div class="timeline">
          <!-- Job 1: Restaurant Tech -->
          <div class="timeline-item reveal-text">
            <span class="timeline-date">2025 - Present</span>
            <h3 class="timeline-title">Frontend Engineer</h3>
            <div class="timeline-company">
              @ Restaurant Brands International
            </div>
            <div class="timeline-desc">
              <p>
                Spearheading React + TypeScript development for scalable menu
                discovery and product features. Implemented dynamic UI rendering
                using Sanity CMS data and built mobile-first components with
                TailwindCSS. focused on performance optimization (lazy loading,
                React Query) and Observability (Datadog RUM).
              </p>

              <h4>Significant Projects:</h4>
              <ul>
                <li>
                  <strong>CMS-Driven Menu System:</strong> Built dynamic
                  rendering logic improving UI load time by 20–25% through
                  optimized state and caching.
                </li>
                <li>
                  <strong>Global Component System:</strong> Developed a reusable
                  library for common UI elements (product cards, filters,
                  accordions) ensuring full accessibility.
                </li>
                <li>
                  <strong>File Upload Pipeline:</strong> Integrated S3 presigned
                  URLs for image uploads, achieving a 50% reduction in failed
                  uploads.
                </li>
              </ul>
            </div>
          </div>

          <!-- Job 2: Chola -->
          <div class="timeline-item reveal-text">
            <span class="timeline-date">Jan 2024 - Jul 2024</span>
            <h3 class="timeline-title">Full Stack Software Developer</h3>
            <div class="timeline-company">
              @ Cholamandalam Investment and Finance Ltd.
            </div>
            <div class="timeline-desc">
              <p>
                Introduced and developed a new product for
                <strong>Video KYC</strong> leveraging WebRTC technology.
                Streamlined the customer verification process, resulting in
                significant operational efficiency and saving millions in profit
                for the company.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- PROJECTS SECTION -->
      <section id="projects">
        <div class="section-header reveal-text">
          <span>03.</span>
          <h2>Selected Projects</h2>
          <span class="line"></span>
        </div>
        <div class="work-grid">
          <!-- Project 1 -->
          <div class="project-card hover-target" data-magnetic="0.15">
            <svg
              class="folder-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"
              ></path>
            </svg>
            <h3>Halcyon Theme</h3>
            <p>
              A minimal dark blue theme for VS Code, Sublime Text, and Atom.
              Integrated with semantic highlighting and custom workbench
              styling.
            </p>
            <div class="tech-stack">
              <span>VS Code</span>
              <span>JSON</span>
              <span>Design System</span>
            </div>
          </div>
          <!-- Project 2 -->
          <div class="project-card hover-target" data-magnetic="0.15">
            <svg
              class="folder-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"
              ></path>
            </svg>
            <h3>Spotify Visualizer</h3>
            <p>
              A web app for visualizing personalized Spotify data. View your top
              artists, top tracks, and audio analysis of each track in a 3D
              space.
            </p>
            <div class="tech-stack">
              <span>React</span>
              <span>Three.js</span>
              <span>Spotify API</span>
            </div>
          </div>
          <!-- Project 3 -->
          <div class="project-card hover-target" data-magnetic="0.15">
            <svg
              class="folder-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"
              ></path>
            </svg>
            <h3>Algo-Sort 3D</h3>
            <p>
              An interactive tool to visualize sorting algorithms like Bubble
              Sort, Merge Sort, and Quick Sort using 3D bars and audio feedback.
            </p>
            <div class="tech-stack">
              <span>D3.js</span>
              <span>WebGL</span>
              <span>Algorithms</span>
            </div>
          </div>
          <!-- Project 4 -->
          <div class="project-card hover-target" data-magnetic="0.15">
            <svg
              class="folder-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"
              ></path>
            </svg>
            <h3>Crypto Dashboard</h3>
            <p>
              Real-time cryptocurrency tracking dashboard with WebSocket
              integration and interactive candlestick charts.
            </p>
            <div class="tech-stack">
              <span>Next.js</span>
              <span>WebSockets</span>
              <span>Tailwind</span>
            </div>
          </div>
        </div>
      </section>

      <!-- CONTACT SECTION -->
      <section id="contact" class="contact">
        <span class="mono-highlight reveal-text">04. What's Next?</span>
        <h2 class="reveal-text">Get In Touch</h2>
        <p class="reveal-text">
          I am currently open to new opportunities. Whether you have a question,
          a project proposal, or just want to say hi, my inbox is always open.
        </p>
        <a
          href="mailto:jobs.akshkalyani@gmail.com"
          class="btn hover-target reveal-text"
          data-magnetic="0.6"
          >Say Hello</a
        >
      </section>
    </main>

    <footer>
      <a
        href="https://github.com/akshkalyani"
        class="hover-target"
        style="color: inherit; text-decoration: none"
        data-magnetic="0.2"
      >
        <div>Designed & Built by Aksh Kalyani</div>
        <div style="margin-top: 0.5rem">★ 2025 Edition</div>
      </a>
    </footer>

    <script>
      // --- 1. DEVELOPER EASTER EGG ---
      console.log(
        "%c Hello, Developer! \n%c If you're looking at this, we should probably talk. ",
        "color: #64ffda; font-size: 20px; font-weight: bold;",
        "color: #888; font-size: 14px;"
      );

      // --- 2. IMMERSIVE SCROLL SETUP (LENIS) ---
      const lenis = new Lenis({
        duration: 1.2,
        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), // Exponential easing
        direction: "vertical",
        gestureDirection: "vertical",
        smooth: true,
        mouseMultiplier: 1,
        smoothTouch: false,
        touchMultiplier: 2,
      });

      function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
      }
      requestAnimationFrame(raf);

      gsap.registerPlugin(ScrollTrigger);

      // --- 3. THREE.JS BACKGROUND (Starfield + Sphere) ---
      const canvas = document.getElementById("canvas-container");
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      const renderer = new THREE.WebGLRenderer({
        alpha: true,
        antialias: true,
      });

      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setPixelRatio(window.devicePixelRatio);
      canvas.appendChild(renderer.domElement);

      // A. Particles (Stars)
      const particlesGeometry = new THREE.BufferGeometry();
      const particlesCount = 2000;
      const posArray = new Float32Array(particlesCount * 3);

      for (let i = 0; i < particlesCount * 3; i++) {
        posArray[i] = (Math.random() - 0.5) * 20; // Spread
      }

      particlesGeometry.setAttribute(
        "position",
        new THREE.BufferAttribute(posArray, 3)
      );
      const particlesMaterial = new THREE.PointsMaterial({
        size: 0.008,
        color: 0x64ffda,
        transparent: true,
        opacity: 0.6,
      });
      const particlesMesh = new THREE.Points(
        particlesGeometry,
        particlesMaterial
      );
      scene.add(particlesMesh);

      // B. The Wireframe Sphere (Icosahedron)
      const geometry = new THREE.IcosahedronGeometry(10, 2);
      const materialSphere = new THREE.MeshBasicMaterial({
        color: 0x64ffda,
        wireframe: true,
        transparent: true,
        opacity: 0.15,
      });
      const sphere = new THREE.Mesh(geometry, materialSphere);

      // Position sphere to the right side
      sphere.position.x = 8;
      sphere.position.y = -2;
      sphere.position.z = -5;
      scene.add(sphere);

      camera.position.z = 5;

      // Mouse Logic
      let mouseX = 0;
      let mouseY = 0;

      document.addEventListener("mousemove", (event) => {
        mouseX = event.clientX;
        mouseY = event.clientY;
      });

      const clock = new THREE.Clock();

      function animateThree() {
        const elapsedTime = clock.getElapsedTime();

        // Rotate Stars
        particlesMesh.rotation.y = elapsedTime * 0.05;
        particlesMesh.rotation.x = -mouseY * 0.00005;

        // Rotate Sphere (More dynamic)
        sphere.rotation.x = elapsedTime * 0.1;
        sphere.rotation.y = elapsedTime * 0.15;

        // Parallax Sphere based on mouse (Opposite to stars for depth)
        sphere.position.x = 8 + mouseX * 0.001;
        sphere.position.y = -2 - mouseY * 0.001;

        renderer.render(scene, camera);
        requestAnimationFrame(animateThree);
      }
      animateThree();

      window.addEventListener("resize", () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });

      // --- 4. GSAP ANIMATIONS ---
      const tl = gsap.timeline();
      tl.from(".fade-in", {
        y: 50,
        opacity: 0,
        duration: 1.2,
        stagger: 0.15,
        ease: "power4.out",
        delay: 0.2,
      });

      gsap.utils.toArray(".reveal-text").forEach((element) => {
        gsap.from(element, {
          scrollTrigger: {
            trigger: element,
            start: "top 90%",
            toggleActions: "play none none reverse",
          },
          y: 40,
          opacity: 0,
          duration: 0.8,
          ease: "power3.out",
        });
      });

      // Smart Navbar
      let lastScroll = 0;
      const navbar = document.getElementById("navbar");

      window.addEventListener("scroll", () => {
        const currentScroll = window.pageYOffset;
        if (currentScroll > lastScroll && currentScroll > 100) {
          navbar.classList.add("hidden");
        } else {
          navbar.classList.remove("hidden");
        }
        lastScroll = currentScroll;
      });

      // --- 5. ADVANCED MAGNETIC CURSOR ---
      const cursor = document.getElementById("cursor");
      const hoverTargets = document.querySelectorAll(".hover-target");

      document.addEventListener("mousemove", (e) => {
        cursor.style.left = e.clientX + "px";
        cursor.style.top = e.clientY + "px";
      });

      hoverTargets.forEach((target) => {
        target.addEventListener("mouseenter", () => {
          cursor.classList.add("hovered");

          // Bind specific magnetic strength per element
          const strength = target.getAttribute("data-magnetic") || 0.2;
          target.addEventListener("mousemove", (e) =>
            magneticMove(e, target, strength)
          );
          target.addEventListener("mouseleave", (e) =>
            magneticReset(e, target)
          );
        });

        target.addEventListener("mouseleave", () => {
          cursor.classList.remove("hovered");
        });
      });

      function magneticMove(e, target, strength) {
        const rect = target.getBoundingClientRect();
        const x = e.clientX - rect.left - rect.width / 2;
        const y = e.clientY - rect.top - rect.height / 2;

        // "Spring" Feel using Elastic Ease
        gsap.to(target, {
          x: x * strength * 2, // Multiplied for stronger effect
          y: y * strength * 2,
          duration: 0.5,
          ease: "power2.out",
        });
      }

      function magneticReset(e, target) {
        gsap.to(target, {
          x: 0,
          y: 0,
          duration: 0.8,
          ease: "elastic.out(1, 0.3)", // Bouncy reset
        });
        // Clean up listeners handled by mouseenter
      }

      // Navigation Anchors
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const targetId = this.getAttribute("href");
          if (targetId === "#") return;
          const targetElem = document.querySelector(targetId);
          lenis.scrollTo(targetElem);
        });
      });
    </script>
  </body>
</html>
